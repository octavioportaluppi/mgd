<div class="row" style="padding:80px; background-color: rgba(192, 192, 192, 0.4)">
<div class="container clearfix">
    <div class="col-md-6 budget-title">
        <span>GASTOS</span>
    </div>
    <div class="col-md-3 budget-title">
        <span>MONTO A PAGAR</span>
    </div>
    <div class="col-md-3 budget-title">
        <span>MONTO PAGADO</span>
    </div>
    <div ng-repeat="item in budgets" class="clearfix budget" ng-class="{'active':item.showChilds}">
        <div class="col-md-6">
            <button
                ng-click="selectBudget(item)"
                class="btn btn-defasult btn-submit btn-budget-collapse">
                <i ng-class="{'fa':true, 'fa-chevron-right':!item.showChilds, 'fa-chevron-down':item.showChilds}"></i>
            </button>
            <p class="budget-input">{{item.Title}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input">$ {{item.Initial}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input budget-right">$ {{item.Final}}</p>

            <button
                    ng-click="item.showForm = true;"
                    ng-show="item.showChilds"
                    class="btn btn-defasult btn-submit btn-budget-add">
                <i class="fa fa-plus"></i>
            </button>
        </div>
        <div ng-repeat="sub in item.subBudgets" uib-collapse="!item.showChilds">
            <div class="col-md-6">
                <p class="budget-input budget-payment ">{{sub.Title}}</p>
            </div>
            <div class="col-md-3">
                <p class="budget-input budget-payment ">$ {{sub.Initial}}</p>
            </div>
            <div class="col-md-3">
                <p class="budget-input budget-payment budget-right">$ {{sub.Final}}</p>
            </div>
        </div>

        <form ng-submit="addSubBudget(item)" ng-if="item.showForm">
            <div class="col-md-6">
                <input type="text"
                       placeholder="AGREGAR GASTO"
                       required="required"
                       name="title"
                       ng-model="newSubBudget.Title"
                       class="budget-input budget-total budget-payment"/>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                       ng-model="newSubBudget.Initial"
                       name="initial"
                       class="budget-input budget-total budget-payment"/>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                       ng-model="newSubBudget.Final"
                       name="final"
                       class="budget-input budget-total budget-payment"/>
                <button
                        class="btn btn-defasult btn-submit btn-budget-add btn-budget-submit">
                    <i class="fa fa-plus"></i>
                </button>
            </div>
        </form>
    </div>
    <div>
        <div class="col-md-6">
            <p class="budget-input budget-total ">{{total.Title}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input budget-total">$ {{total.Initial}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input budget-total budget-right">$ {{total.Final}}</p>
        </div>
    </div>
    <div>
        <form ng-submit="createBudget(budgetForm)" novalidate name="budgetForm">
            <div class="col-md-6">
                <input type="text"
                       placeholder="AGREGAR GASTO"
                       required="required"
                       name="title"
                        ng-model="newBudget.Title"
                        class="budget-input budget-total budget-add"/>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                        ng-model="newBudget.Initial"
                       name="initial"
                        class="budget-input budget-total budget-add"/>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                        ng-model="newBudget.Final"
                       name="final"
                        class="budget-input budget-total budget-add"/>
                <button
                        class="btn btn-defasult btn-submit btn-budget-add btn-budget-submit budget-add">
                    <i class="fa fa-plus"></i>
                </button>
            </div>
        </form>
    </div>
</div>
</div>
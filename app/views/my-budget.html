<div class="row" style="padding:80px; background-color: rgba(192, 192, 192, 0.4)">
<div class="container clearfix">
    <div class="col-md-6 budget-title">
        <span>GASTOS</span>
    </div>
    <div class="col-md-3 budget-title">
        <span>MONTO A PAGAR</span>
    </div>
    <div class="col-md-3 budget-title">
        <span>MONTO PAGADO</span>
    </div>
    <div ng-repeat="item in budgets"
         class="clearfix budget"
         ng-class="{'active':item.showChilds}">
        <div class="col-md-6">
            <button
                class="btn btn-defasult btn-submit btn-budget-collapse"
                ng-click="selectBudget(item)">
                <i ng-class="{'fa':true, 'fa-chevron-right':!item.showChilds, 'fa-chevron-down':item.showChilds}"></i>
            </button>
            <p class="budget-input"
               ng-click="selectBudget(item)">{{item.Title}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input"
               ng-click="selectBudget(item)">$ {{item.Initial}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input budget-right"
               ng-click="selectBudget(item)">$ {{item.PayedSoFar}}</p>
            <button
                    ng-click="selectBudget(item)"
                    ng-show="item.showChilds"
                    class="btn btn-defasult btn-submit btn-budget-add">
                <i class="fa fa-plus"></i>
            </button>
            <button
                    ng-click="deleteBudget(item.Id)"
                    ng-show="item.showChilds"
                    class="btn btn-defasult btn-submit btn-budget-delete">
                <i class="fa fa-trash"></i>
            </button>
        </div>
        <div ng-repeat="sub in item.Payments" uib-collapse="!item.showChilds">
            <div class="col-md-6">
                <p class="budget-input budget-payment ">&lt;Falta un titulo&gt;</p>
            </div>
            <div class="col-md-3">
                <p class="budget-input budget-payment ">{{getPaymentMode(sub.PaymentMode).Text}}</p>
            </div>
            <div class="col-md-3">
                <p class="budget-input budget-payment budget-right">$ {{sub.Value}}</p>
                <button
                        class="btn btn-defasult btn-submit btn-budget-add btn-budget-submit"
                        ng-click="deletePayment(sub.Id)">
                    <i class="fa fa-trash"></i>
                </button>
            </div>
        </div>

        <form ng-submit="addPayment(item.Id)" ng-if="item.showForm">
            <div class="col-md-6">
                <input type="text"
                       placeholder="AGREGAR GASTO"
                       required="required"
                       name="title"
                       ng-model="newPayment.Title"
                       class="budget-input budget-total budget-payment"/>
            </div>
            <div class="col-md-3">
                <select
                        name="paymentMode"
                        required="required"
                        ng-model="newPayment.PaymentMode"
                        class="budget-input budget-total budget-payment">
                    <option value="" disabled>Selecciona el tipo de pago</option>
                    <option value="{{paymentOption.Value}}" ng-repeat="paymentOption in paymentModes">{{paymentOption.Text}}</option>
                </select>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                       ng-model="newPayment.Value"
                       name="initial"
                       class="budget-input budget-total budget-payment"/>
                <button
                        class="btn btn-defasult btn-submit btn-budget-add btn-budget-submit">
                    <i class="fa fa-plus"></i>
                </button>
            </div>
        </form>
    </div>
    <div>
        <div class="col-md-6">
            <p class="budget-input budget-total ">{{total.Title}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input budget-total">$ {{total.Initial}}</p>
        </div>
        <div class="col-md-3">
            <p class="budget-input budget-total budget-right">$ {{total.Final}}</p>
        </div>
    </div>
    <div>
        <form ng-submit="createBudget(budgetForm)" novalidate name="budgetForm">
            <div class="col-md-6">
                <input type="text"
                       placeholder="AGREGAR GASTO"
                       required="required"
                       name="title"
                        ng-model="newBudget.Title"
                        class="budget-input budget-total budget-add"/>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                        ng-model="newBudget.Initial"
                       name="initial"
                        class="budget-input budget-total budget-add"/>
            </div>
            <div class="col-md-3">
                <input type="text"
                       placeholder="$0"
                       required="required"
                        ng-model="newBudget.Final"
                       name="final"
                        class="budget-input budget-total budget-add"/>
                <button
                        class="btn btn-defasult btn-submit btn-budget-add btn-budget-submit budget-add">
                    <i class="fa fa-plus"></i>
                </button>
            </div>
        </form>
    </div>
</div>
</div>
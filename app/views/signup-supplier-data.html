<div class="container-fluid" ng-cloak="">
	<div class="row">
		<div class="carousel-image img-panel-full img-panel-full-register">
			<div class="carousel-caption">
				Regístrate para ofrecer tus servicios
				<h2>Registrarte es completamente gratis, en unos minutos podrás ofrecer tus servicios en migrandia.mx.</h2>
			</div>
		</div>
	</div>
</div>
<div class="container">
<div class="steps hidden-ms-down">
<ul>
<li class="col-md-3 selected">1. Información básica</li>
<li class="col-md-3">2. Tipos de eventos</li>
<li class="col-md-3">3. Servicios</li>
<li class="col-md-3">4. Preguntas Frecuentes</li>
</ul>
</div>
</div>
<form class="form-horizontal main" name="data" form-step-validity="form-step-validity" novalidate ng-cloak="">
	<div class="container">
		<div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0" ng-if="errorMessage && !data.$valid">
			<div class="form-group signup-error">
				<div class="error">
					<div ng-show="errorMessage">{{errorMessage.data.ModelState[''][1]}}</div>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0">
			<div class="form-group signup-field">
				<input
					class="form-control"
					name="supplierName"
					required=""
					type="text"
					placeholder="Nombre"
					ng-model="supplier.Name"
					ng-class="{'invalid':data.supplierName.$error.required && (data.$submitted || data.supplierName.$touched)}"/>
				<div class="error" ng-show="data.$submitted || data.supplierName.$touched">
      				<div ng-show="data.supplierName.$error.required">Dinos el nombre de tu negocio.</div>
    			</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0">
			<div class="form-group signup-field">
				<input
						class="form-control"
						name="email"
						required="required"
						type="email"
						placeholder="Email"
						ng-model="registration.Email"
						ng-disabled="authentication.isAuth"
						ng-class="{'invalid':(data.email.$error.required || data.email.$error.email) && (data.$submitted || data.email.$touched)}"/>
						<div class="information">Este será el email que verán tus cilentes y con el que ingresarás al sitio.</div>
				<div class="error" ng-show="data.$submitted || data.email.$touched">
					<div ng-show="data.email.$error.required">Danos un mail de contacto.</div>
					<div ng-show="data.email.$error.email">El email ingresado es inválido.</div>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<input
						class="form-control"
						name="password"
						required="required"
						type="password"
						placeholder="Contraseña"
						ng-model="registration.Password"
						ng-disabled="authentication.isAuth"
						ng-class="{'invalid':(data.password.$error.required || data.passwordConfirm.$error.compareTo) && (data.$submitted || data.password.$touched)}"/>
				<div class="error" ng-show="data.$submitted || data.password.$touched">
      				<div ng-show="data.password.$error.required">Elije una contraseña.</div>
					<div ng-show="!checkPassword() && !data.password.$error.required">
						Debe tener 8 dígitos, una mayúscula, un número, y un caracter especial.
					</div>
    			</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<input
						class="form-control"
						name="passwordConfirm"
						required="required"
						type="password"
						placeholder="Confirmar contraseña"
						ng-model="registration.ConfirmPassword"
						ng-disabled="authentication.isAuth"
						ng-class="{'invalid':(data.passwordConfirm.$error.required || data.passwordConfirm.$error.compareTo) && (data.$submitted || data.passwordConfirm.$touched)}"
						compare-to="registration.Password"/>
				<div class="error" ng-show="data.$submitted || data.passwordConfirm.$touched">
      				<div ng-show="data.passwordConfirm.$error.required">Confirma la contraseña.</div>
      				<div ng-show="data.passwordConfirm.$error.compareTo && !data.passwordConfirm.$error.required">Las contraseñas no coinciden.</div>
    			</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<input
						class="form-control"
						name="address"
						required="required"
						type="text"
						placeholder="Dirección"
						ng-model="supplier.Address"
						ng-class="{'invalid':(data.address.$error.required) && (data.$submitted || data.address.$touched)}"/>
				<div class="error" ng-show="data.$submitted || data.address.$touched">
					<div ng-show="data.address.$error.required">Dinos una dirección.</div>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<input
						class="form-control"
						name="phone"
						required="required"
						type="phone"
						placeholder="Teléfono"
						ng-model="supplier.Phone"
						ng-pattern="/^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/"
						ng-class="{'invalid':(data.phone.$error.required || !data.phone.$valid) && (data.$submitted || data.phone.$touched)}"/>
				<div class="error" ng-show="data.$submitted || data.phone.$touched">
					<div ng-show="data.phone.$error.required">Dinos un teléfono.</div>
					<span ng-show="!data.phone.$valid && !data.phone.$error.required">Ingresa un teléfono válido. Ejemplo: 123-456-7890 / (123) 456-7890</span>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<select class="form-control" name="state"
						ng-class="{'invalid':data.state.$error.required && (data.$submitted || data.state.$touched)}"
						ng-model="supplier.StateId"
						required="required"
						ng-change="getCities()">
					<option value="" disabled="disabled" selected="selected" class="placeholder">ESTADO</option>
					<option ng-repeat="state in states" value="{{state.Id}}">{{state.Name}}</option>
				</select>
				<div class="information">¿Tu encuentras tu Estado? <a href="mailto:soporte@migrandia.mx">Contáctanos.</a></div>
				<div class="error" ng-show="data.$submitted || data.state.$touched">
					<div ng-show="data.state.$error.required">Dinos la población a la que perteneces.</div>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<select class="form-control" required="" ng-model="supplier.CityId" name="city"
						ng-class="{'invalid':data.city.$error.required && (data.$submitted || data.city.$touched)}">
					<option value="" disabled="disabled" selected="selected" class="placeholder">CIUDAD</option>
					<option value="{{city.Id}}" ng-repeat="city in cities">{{city.Name}}</option>
				</select>
				<div class="information">¿Tu encuentras tu Estado? <a href="mailto:soporte@migrandia.mx">Contáctanos.</a></div>
				<div class="error" ng-show="data.$submitted || data.city.$touched">
					<div ng-show="data.city.$error.required">Dinos la ciudad a la que perteneces.</div>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<div class="opening-hours clearfix">
					<label>DÍAS DE ATENCIÓN</label>
					<div class="pull-right">
						<span class="from-to">DE</span>
						<select
							class="form-control"
							required=""
							ng-model="supplier.OpeningHours.DayFrom"
							name="dayFrom"
							ng-class="{'invalid':data.dayFrom.$error.required && (data.$submitted || data.dayFrom.$touched)}">
							<option value="{{day.id}}" ng-repeat="day in days">{{day.name}}</option>
						</select>
						<span class="from-to">A</span>
						<select
								class="form-control"
								required=""
								ng-model="supplier.OpeningHours.DayTo"
								name="dayTo"
								ng-class="{'invalid':data.dayTo.$error.required && (data.$submitted || data.dayTo.$touched)}">
							<option value="{{day.id}}" ng-repeat="day in days">{{day.name}}</option>
						</select>

					</div>
				</div>
				<div class="error" ng-show="data.$submitted || data.dayFrom.$touched || data.dayTo.$touched">

					<span ng-show="data.dayFrom.$error.required">Dinos el día de apertura.</span>
					<span ng-show="data.dayTo.$error.required">Dinos el día de cierre.</span>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0">
			<div class="form-group signup-field">
				<div class="opening-hours clearfix">
					<label>HORARIO</label>
					<div class="pull-right">
						<span class="from-to">DE</span>
						<input
							class="form-control"
							name="hoursFrom"
							required="required"
							type="text"
							placeholder="HH:MM"
							ng-model="supplier.OpeningHours.HoursFrom"
							ng-class="{'invalid':(data.hoursFrom.$error.required || data.hoursFrom.$error.pattern) && (data.$submitted || data.hoursFrom.$touched)}"
							ng-pattern="'([01][0-9]|2[0-3]):[0-5][0-9]'"/>
							<span class="from-to">A</span>
							<input
									class="form-control"
									name="hoursTo"
									required="required"
									type="text"
									placeholder="HH:MM"
									ng-model="supplier.OpeningHours.HoursTo"
									ng-class="{'invalid':(data.hoursTo.$error.required || data.hoursTo.$error.pattern) && (data.$submitted || data.hoursTo.$touched)}"
									ng-pattern="'([01][0-9]|2[0-3]):[0-5][0-9]'"/>
					</div>
				</div>
				<div class="error" ng-show="data.$submitted || data.hoursTo.$touched || data.hoursFrom.$touched">
					<span ng-show="data.hoursTo.$error.required">Dinos el horario de cierre.</span>
					<span ng-show="data.hoursTo.$error.pattern">El horario de cierre es incorrecto.</span>
					<span ng-show="data.hoursFrom.$error.required">Dinos el horario de apertura.</span>
					<span ng-show="data.hoursFrom.$error.pattern">El horario de apertura es incorrecto.</span>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-12 col-md-offset-0">
			<div class="form-group signup-field">

				<div class="text-editor">
					<div text-angular ng-model="supplier.Description" name="description" required placeholder="Da un breve descripcion de tu negocio"
					ng-class="{'invalid':data.description.$error.required && (data.$submitted || data.description.$touched)}"
						ta-toolbar="[['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre', 'quote'],['bold', 'italics', 'underline', 'ul', 'ol', 'redo', 'undo', 'clear'],['justifyLeft', 'justifyCenter', 'justifyRight', 'indent', 'outdent']]"></div>
				</div>



				</textarea>
				<div class="information">Este es el texto por el cual atraerás a potenciales clientes.</div>
				<div class="error" ng-show="data.$submitted || data.description.$touched">
					<div ng-show="data.description.$error.required">Déjanos una descripción.</div>
				</div>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0 clearfix">
			<label class="default-image-title">Sube tu logotipo</label>
			<div><div class="pics-warning"><i class="glyphicon glyphicon-alert warning"></i> El logotipo no puede superar 1MB.</div></div>
			<div
				class="default-image pull-left"
				ngf-select
				ng-model="supplier.profilePic"
			 	accept="image/*"
				ng-show="!supplier.profilePic"
				ngf-model-invalid="supplier.profilePic.invalid"
				ngf-max-size="1MB"></div>
			<img
				ng-show="supplier.profilePic"
				ngf-thumbnail="supplier.profilePic"
				class="default-image pull-left"
				ngf-select
				ng-model="supplier.profilePic"
				ng-if="supplier.profilePic"
				ngf-model-invalid="supplier.profilePic.invalid"
				accept="image/*"
				ngf-max-size="1MB	">
				<div ng-show="supplier.profilePic.invalid" class="pic-error-small" ng-click="supplier.profilePic = null;" >
					<div class="glyphicon glyphicon-alert warning"></div>
					El máximo es 1MB</div>
			<div class="default-image-caption pull-left">
				<span>1000px x 1000px</span>
				<span>.jpg, .png</span>
			</div>
		</div>
		<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-0 clearfix">
			<label class="default-image-title">Sube algunas imágenes (opcional)</label>
			<div><div class="pics-warning"><i class="glyphicon glyphicon-alert warning"></i> Las imágenes no pueden superar 1MB.</div></div>
			<div class="default-image"
				 ngf-select
				 ng-model="supplier.photos[0]"
				 accept="image/*"
				 ng-show="!supplier.photos[0]"
 				ngf-model-invalid="supplier.photos[0].invalid"

				 ngf-max-size="1MB">
			</div>
			<img
				ng-show="supplier.photos[0]"
				ngf-thumbnail="supplier.photos[0]"
				class="default-image"
				ngf-select

				ng-if="supplier.photos[0]"
				ng-model="supplier.photos[0]"
				ngf-model-invalid="supplier.photos[0].invalid"
				accept="image/*"
				ngf-max-size="1MB" />
				<div ng-show="supplier.photos[0].invalid" class="pic-error-small" ng-click="supplier.photos[0] = null;" >
					<div class="glyphicon glyphicon-alert warning"></div>
					El máximo es 1MB</div>
			<div class="default-image"
				 ngf-select
				 ng-model="supplier.photos[1]"
				 ngf-model-invalid="supplier.photos[1].invalid"
				 accept="image/*"
				 ng-show="!supplier.photos[1]"
				 ngf-max-size="1MB">
			</div>
			<img
				ng-show="supplier.photos[1]"
				ngf-thumbnail="supplier.photos[1]"
				class="default-image"
				ngf-select
				ng-if="supplier.photos[1]"
				ngf-model-invalid="supplier.photos[1].invalid"
				ng-model="supplier.photos[1]"
				accept="image/*"
				ngf-max-size="1MB" />
				<div ng-show="supplier.photos[1].invalid" class="pic-error-small" ng-click="supplier.photos[1] = null;" >
					<div class="glyphicon glyphicon-alert warning"></div>
					El máximo es 1MB</div>
			<div class="default-image"
				 ngf-select
				 ng-model="supplier.photos[2]"
				 ngf-model-invalid="supplier.photos[2].invalid"
				 accept="image/*"
				 ng-show="!supplier.photos[2]"
				 ngf-max-size="1MB">
			</div>
			<img
				ng-show="supplier.photos[2]"
				ngf-thumbnail="supplier.photos[2]"
				class="default-image"
				ngf-select
				ng-if="supplier.photos[2]"
				ngf-model-invalid="supplier.photos[2].invalid"
				ng-model="supplier.photos[2]"
				accept="image/*"
				ngf-max-size="1MB" />
				<div ng-show="supplier.photos[2].invalid" class="pic-error-small" ng-click="supplier.photos[2] = null;" >
					<div class="glyphicon glyphicon-alert warning"></div>
					El máximo es 1MB</div>
			<div class="default-image"
				 ngf-select
				 ng-model="supplier.photos[3]"
				 ngf-model-invalid="supplier.photos[3].invalid"
				 accept="image/*"
				 ng-show="!supplier.photos[3]"
				 ngf-max-size="1MB">
			</div>
			<img
				ng-show="supplier.photos[3]"
				ngf-thumbnail="supplier.photos[3]"
				class="default-image"
				ngf-select
				ng-if="supplier.photos[3]"
				ngf-model-invalid="supplier.photos[3].invalid"
				ng-model="supplier.photos[3]"
				accept="image/*"
				ngf-max-size="1MB" />
				<div ng-show="supplier.photos[3].invalid" class="pic-error-small" ng-click="supplier.photos[3] = null;" >
					<div class="glyphicon glyphicon-alert warning"></div>
					El máximo es 1MB</div>
			<div class="default-image"
				 ngf-select
				 ng-model="supplier.photos[4]"
				 ngf-model-invalid="supplier.photos[4].invalid"
				 accept="image/*"
				 ng-show="!supplier.photos[4]"
				 ngf-max-size="1MB">
			</div>
			<img
					ng-show="supplier.photos[4]"
					ngf-thumbnail="supplier.photos[4]"
					class="default-image"
					ngf-select
					ng-if="supplier.photos[4]"
					ngf-model-invalid="supplier.photos[4].invalid"
					ng-model="supplier.photos[4]"
					accept="image/*"
					ngf-max-size="1MB" />
					<div ng-show="supplier.photos[3].invalid" class="pic-error-small" ng-click="supplier.photos[3] = null;" >
						<div class="glyphicon glyphicon-alert warning"></div>
						El máximo es 1MB</div>
		</div>
	</div>
	<div class="container text-center">
		<div class="pending-profile">Tu perfil no será visible para los visitantes del sitio aun.<br />Más tarde podrás hacerlo visible desde tu perfil.</div>
		<div class="col-xs-6 col-md-3 col-md-offset-3">
			<button class="btn btn-default btn-submit prev" ng-disabled="$isFirst()">Regresar</button>
		</div>
		<div class="col-xs-6 col-md-3 col-md-offset-0">
			<button
				class="btn btn-default btn-submit next"
				ng-class="[{'invalid':(!data.$valid && data.$submitted)}]"
				ng-disabled="
				supplier.photos[0].invalid ||
				supplier.photos[1].invalid ||
				supplier.photos[2].invalid ||
				supplier.photos[3].invalid ||
				supplier.photos[4].invalid ||
				supplier.profilePic.invalid ||
				!supplier.profilePic ||
				!supplier.Name ||
				!supplier.Address ||
				!supplier.Description ||
				!registration.Password ||
				!registration.ConfirmPassword ||
				!registration.Email ||
				!supplier.Phone ||
				!supplier.CityId ||
				!supplier.OpeningHours.DayFrom ||
				!supplier.OpeningHours.DayTo ||
				!supplier.OpeningHours.HoursFrom ||
				!supplier.OpeningHours.HoursTo
				"
				ng-hide="$isLast()"
				ng-click="saveSupplierData(data, $nextStep)">Siguiente</button>
		</div>
	</div>
</form>

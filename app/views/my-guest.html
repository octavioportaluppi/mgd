<div class="container-fluid row guests" style="background-color: #ECECEC;">
    <div class="col-md-7 row" style="background-color: #F4F4F4; padding: 0 0 30px 0;">
        <div class="col-md-11 col-md-offset-1 row">
            <div class="col-md-5 guests-title">
                <span>Invitados</span>
            </div>
            <div class="col-md-3 guests-title middle">
                <span>RSVP</span>
            </div>
            <div class="col-md-3 guests-title middle">
                <span>MESA</span>
            </div>
            <div cass="col-md-1"></div>
            <div class="col-md-12">
                <p>Agrega invitados y edita su status</p>
            </div>
            <div class="col-md-12 guest" ng-repeat="guest in guests">
                <div class="col-md-5">
                    <span>{{guest.FirstName}} {{guest.LastName}}</span>
                </div>
                <div class="col-md-3 middle">
                    <i class="fa fa-check" ng-if="guest.IsConfirmed"></i>
                    <i class="fa fa-times" ng-if="!guest.IsConfirmed"></i>
                </div>
                <div class="col-md-3 middle">
                    <span>{{guest.GuestGroupId}}</span>
                </div>
                <div class="col-md-1">
                    <i class="fa fa-pencil"></i>
                </div>
            </div>
            <div class="col-md-12 guest">
                <form name="newGuestForm" novalidate ng-submit="createGuest(newGuestForm)">
                    <div class="col-md-5">
                        <input
                                type="text"
                                name="name"
                                required="required"
                                ng-model="newGuest.FirstName"
                                placeholder="Nombre"
                                ng-class="{'invalid':newGuestForm.name.$error.required && (newGuestForm.$submitted || newGuestForm.name.$touched)}"/>
                        <input
                                type="text"
                                name="lastName"
                                required="required"
                                ng-model="newGuest.LastName"
                                placeholder="Apellido"
                                ng-class="{'invalid':newGuestForm.lastName.$error.required && (newGuestForm.$submitted || newGuestForm.lastName.$touched)}"/>
                        <div class="dashboard-error" ng-show="newGuestForm.$submitted || newGuestForm.name.$touched">
                            <div ng-show="newGuestForm.name.$error.required">Agregue el nombre del invitado.</div>
                        </div>
                        <div class="dashboard-error" ng-show="newGuestForm.$submitted || newGuestForm.lastName.$touched">
                            <div ng-show="newGuestForm.lastName.$error.required">Agregue el apellido del invitado.</div>
                        </div>
                    </div>
                    <div class="col-md-3 middle guest-opt">
                        <i class="fa fa-check" ng-class="{'disabled': !newGuest.isConfirmed}"
                           ng-click="newGuest.isConfirmed = true;"></i>
                        <i class="fa fa-times" ng-class="{'disabled': newGuest.isConfirmed}"
                           ng-click="newGuest.isConfirmed = false;"></i>
                    </div>
                    <div class="col-md-3 middle">
                        <select
                                name="groupGuestId"
                                ng-model="newGuest.GroupGuestId"
                                required="required">
                            <option value="">Seleccionar mesa</option>
                            <option value="{{guestgroup.Id}}" ng-repeat="guestgroup in guestGroups">{{guestgroup.Name}}</option>
                        </select>
                        <div class="dashboard-error" ng-show="newGuestForm.$submitted || newGuestForm.groupGuestId.$touched">
                            <div ng-show="newGuestForm.groupGuestId.$error.required">Seleccione la mesa del invitado.</div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <button
                                ng-disabled="!newGuestForm.$valid"
                                class="btn btn-defasult btn-submit btn-guest-add">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-5">
        <div class="col-md-11 col-md-offset-1 row">
            <div class="col-md-12 guests-title">
                <span>Mesas</span>
            </div>
            <div class="col-md-12">
                <p>Abre para ver los invitados en cada mesa</p>
            </div>
            <div class="col-md-12 guest-group" ng-repeat="guestgroup in guestGroups">
                <div class="col-md-1 group-id middle">
                    <span>{{guestgroup.GuestsCount}}</span>
                </div>
                <div class="col-md-9 group-name">
                    <span>{{guestgroup.Name}}</span>
                </div>
                <div class="col-md-1 group-action middle" ng-click="guestgroup.collapsed = !guestgroup.collapsed;">
                    <i class="fa fa-chevron-right" ng-if="!guestgroup.collapsed"></i>
                    <i class="fa fa-chevron-down" ng-if="guestgroup.collapsed"></i>
                </div>
                <div uib-collapse="!guestgroup.collapsed" class="col-md-12 row">
                    <div class="group-name col-md-12" ng-repeat="guest in guestgroup.guests">
                        <span>{{guest.FirstName}} {{guest.LastName}}</span>
                    </div>
                </div>
            </div>
            <div class="col-md-12 guest">
                <div class="col-md-11">
                    <input type="text"
                            placeholder="Nombre de la mesa">
                </div>
                <div class="col-md-1">
                    <button
                            ng-disabled="!newGuestForm.$valid"
                            class="btn btn-defasult btn-submit btn-guest-add">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
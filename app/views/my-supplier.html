<div class="row" style="background-color: #F4F4F4;" ng-cloak="">
    <div class="col-md-7 col-sm-7 col-xs-12 planner-suppliers">
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12" ng-if="!addNew">
                <div class="col-md-6 col-sm-6 col-xs-6">
                    <span class="supplier-title">Favoritos</span>
                    <p>Busca entre tus proveedores favoritos</p>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-6 clearfix">
                    <input type="text" class="pull-right" placeholder="Buscar" ng-model="suppliersFilter">
                    <i class="fa fa-search"></i>
                </div>

                <div class="col-md-12 col-sm-12 col-xs-12">
                  <div ng-if="suppliers.length == 0" class="col-md-10 col-md-offset-1 no-suppliers-saved">No has guardado ningún proveedor aun. ¡Haz click en "Agregar Proveedor" para comenzar!</div>
                    <div
                        ng-repeat="supplier in suppliers| filter: suppliersFilter"
                        class="list-item clearfix">
                        <div class="col-md-3 col-sm-3 col-xs-3">
                            <a href="#/suppliers/{{supplier.Id}}">
                                <img src="img/photo-placeholder.jpg" ng-if="!supplier.LogoUrl"/>
                                <img src="{{supplier.LogoUrl}}" ng-if="supplier.LogoUrl"/>
                            </a>
                        </div>
                        <div class="col-md-9 col-sm-9 col-xs-9 clearfix">
                            <div class="row">
                                <div class="col-md-8 col-sm-8 col-xs-8">
                                    <a href="#/suppliers/{{supplier.Id}}">{{supplier.Name}}</a>
                                      <span class="ligth-description">{{supplier.City.Name}}, {{supplier.Address}}</span>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <button class="btn btn-fav pull-right subscribed"
                                            ng-click="event.enabled && unsubscribe(supplier.Id)" title="Quitar de favoritos">
                                        <i class="fa fa-heart"></i>
                                    </button>

                                    <a ng-show="supplier.SubscriptionType.Name == 'All Star'" class="btn btn-fav pull-right" href="/#/planner/chat/{{supplier.Id}}"
                                    title="Enviar mensaje privado">
                                        <img class='chat-icon' src='/img/chat-icon.png'>
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-12 col-xs-12 col-sm-12">
                                <div class="row">
                                    <p class="description-elipsis">{{supplier.Description.substring(0,250) | removeHtml}}...</p>
                                </div>
                            </div>
                            <div class="divider col-md-12 col-sm-12 col-xs-12"></div>
                            <div class="row">
                            <div class="col-md-8 col-sm-12 col-xs-12">
                                <span class="premium-service listing-service" ng-repeat="service in supplier.ServiceTypes">
                                  <a href='/#/suppliers/browse/service/{{service.Id}}' title='{{service.Name}}' target="_blank"><i class="{{service.Name | icon}}"></i>
                                  {{service.Name}}</a>
                                </span>
                            </div>
                            <div class="col-md-4 col-sm-12 col-xs-12">
                                <a href="#/suppliers/{{supplier.Id}}" class="more-info">MAS INFORMACIÓN</a>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-12 col-sm-12 col-xs-12 register-panel" ng-if="addNew && showServices">
              <div class="suppliers-back" ng-click="getSuppliers()" title="Volver"><i class="glyphicon glyphicon-circle-arrow-left"></i></div>
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <span class="supplier-title">Agregar un nuevo proveedor</span>
                    <p>Elije el tipo de servicio</p>
                </div>

                <div
                    class="col-md-4 col-sm-6 col-xs-12"
                    ng-repeat="item in services"
                    ng-click="getSuppliersByService(item.Id)">
                    <div style="background-color: #c0c0c0; border-radius: 3px; padding: 10px 15px; cursor: pointer;color:#fff;">
                        <span class="{{item.Name| icon }}"></span>
                        {{item.Name}}
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12" ng-if="addNew && showSuppliers">
              <div class="suppliers-back" ng-click="addNewSupplier()" title="Vover"><i class="glyphicon glyphicon-circle-arrow-left"></i></div>
                <div class="col-md-6 col-sm-6 col-xs-6">
                    <span class="supplier-title">Favoritos</span>
                    <p>Asocia un proveedor a tu evento!</p>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-6 clearfix">
                    <input type="text" class="pull-right" placeholder="Buscar" ng-model="availableFilter">
                    <i class="fa fa-search"></i>
                </div>

                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div ng-if="availableSuppliers.length === 0" style="text-align: center; padding: 40px 0;">
                        <span class="empty-suppliers-title">No existen proveedores para el servicio seleccionado</span>
                    </div>
                    <div
                        ng-repeat="supplier in availableSuppliers| filter: availableFilter"
                        ng-if="availableSuppliers.length > 0"
                        class="list-item clearfix row"
                        infinite-scroll='nextPage()'
                        infinite-scroll-disabled='loading'
                        infinite-scroll-distance='1000'>

                        <div class="col-md-3 col-sm-3 col-xs-3">
                            <a href="#/suppliers/{{supplier.Id}}">
                                <img src="img/photo-placeholder.jpg" ng-if="!supplier.LogoUrl"/>
                                <img src="{{supplier.LogoUrl}}" ng-if="supplier.LogoUrl"/>
                            </a>
                        </div>
                        <div class="col-md-9 col-sm-9 col-xs-9 clearfix">
                            <div class="row">
                                <div class="col-md-8 col-sm-8 col-xs-8">
                                    <a href="#/suppliers/{{supplier.Id}}">{{supplier.Name}}</a>
                                    <span class="ligth-description">{{supplier.City.Name}}, {{supplier.Address}}</span>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-4">
                                    <button class="btn btn-fav pull-right"
                                            ng-click="subscribe(supplier.Id)" title="Agregar a favoritos">
                                        <i class="fa fa-heart"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="row">
                                    <p class="description-elipsis">{{supplier.Description.substring(0,250) | removeHtml}}...</p>
                                </div>
                            </div>
                            <div class="divider col-md-12 col-sm-12 col-xs-12"></div>
                            <div class="row">
                              <div class="col-md-8 col-sm-12 col-xs-12">
                                  <span class="premium-service listing-service" ng-repeat="service in supplier.ServiceTypes">
                                    <a href='/#/suppliers/browse/service/{{service.Id}}' title='{{service.Name}}' target="_blank"><i class="{{service.Name | icon}}"></i>
                                    {{service.Name}}</a>
                                  </span>
                              </div>
                              <div class="col-md-4 col-sm-12 col-xs-12">
                                  <a href="#/suppliers/{{supplier.Id}}" class="more-info">MAS INFORMACIÓN</a>
                              </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div class="col-md-5 col-sm-5 col-xs-12 premium-suppliers">
        <div class="col-md-10 col-sm-12 col-xs-12" ng-if="event.enabled">
            <button
                ng-click="addNewSupplier()"
                style="width: 100%;"
                class="btn btn-defasult btn-submit btn-task">Agregar proveedor</button>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12">
            <span class="supplier-title">Recomendaciones</span>
        </div>
        <div class="col-md-10 col-sm-12 col-xs-12">
            <div
                ng-repeat="supplier in premiumSuppliers"
                ng-if="premiumSuppliers.length > 0"
                class="list-item clearfix row">
                <div class="col-md-8 col-sm-8 col-xs-8">
                    <a href="#/suppliers/{{supplier.Id}}" target="_blank">{{supplier.Name}}</a>
                    <span class="ligth-description">{{supplier.City.Name}}</span>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-4">
                    <button class="btn btn-fav pull-right" title="Agregar a favoritos"
                            ng-click="event.enabled && subscribe(supplier.Id)">
                        <i class="fa fa-heart"></i>
                    </button>

                    <a class="btn btn-fav pull-right chatButton" href="/#/planner/chat/{{supplier.Id}}" title="Enviar mensaje privado">
                        <img class='chat-icon2' src='/img/chat-icon.png'>
                    </a>
                </div>
                  <div class="col-md-12 col-sm-12 col-xs-12">
                      <span class="premium-service listing-service" ng-repeat="service in supplier.ServiceTypes">
                        <a href='/#/suppliers/browse/service/{{service.Id}}' title='{{service.Name}}' target="_blank"><i class="{{service.Name | icon}}"></i>
                        {{service.Name}}</a>
                      </span>
                  </div>
                <div class="col-md-12 col-sm-12 col-xs-12 clearfix">
                    <a href="#/suppliers/{{supplier.Id}}" class="more-info">MAS INFORMACIÓN</a>
                </div>
            </div>
        </div>
    </div>
</div>
